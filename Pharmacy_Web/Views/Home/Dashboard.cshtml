@model DashboardModel
@{
    ViewData["Title"] = "Dashboard";
    ViewData["BodyClass"] = " ";
    Layout = "~/Views/Shared/_DashboardLayout.cshtml";

}

<div class="page-content-wrapper">
    <div id="page-content" class="page-content">
        <div id="top-bar" class="top-bar d-flex align-items-center">
            <div class="d-flex justify-content-between align-items-center w-100">
                <div class="top-bar-left">
                    <button id="toggler" class="toggler">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div class="top-bar-right">
                    <i class="ri-moon-line change-theme" id="theme-button"></i>
                </div>
            </div>
        </div>
        <div id="welcome-banner" class="welcome-banner">
            <div class="row">
                <div class="col-lg-7 col-md-12">
                    <div class="d-flex align-items-center">
                        <div class="user-text ml-3">
                            <h3>Hello Dr : @User.FindFirstValue("FullName")</h3>
                        </div>
                    </div>
                </div>

            </div>
        </div>
        <div class="row">
            <div class="col-lg-4 col-sm-6">
                <div id="mat-card2" class="mat-card">
                    <div class="dash-card">
                        <!-- <i class="fa-solid fa-hospital-user"></i> -->
                        <img src="~/img/undraw_medical_research_qg4d.svg" alt="" width="100px">
                        <h4>@Model.PatientCount</h4>
                        <p>Patient Count</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-sm-6">
                <div id="mat-card3" class="mat-card">
                    <div class="dash-card">
                        <!-- <i class="fa-solid fa-user-doctor"></i> -->
                        <img src="~/img/undraw_doctor_kw-5-l.svg" alt="" width="70px">
                        <h4>@Model.TodayRevealed</h4>
                        <p>Today Revealed</p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-sm-6">
                <div id="mat-card4" class="mat-card">
                    <div class="dash-card">
                        <!-- <i class="fas fa-money-bill-wave"></i> -->
                        <img src="~/img/undraw_medical_research_qg4d.svg" alt="" width="70px">
                        <h4>@Model.RevealedCount</h4>
                        <p>All Revealed Count</p>
                    </div>
                </div>
            </div>
        </div><br>
        <div class="row">
            <div class="col-md-12">
                <div  class="mat-card">
                    <div class="table-title-section d-flex justify-content-between align-items-center pt-3 px-3">
                        <div>
                            <h5>Dashboard</h5>
                        </div>
                        <div class="button-add">
                            <a href="javascript:;" class="js-render-modal" data-title="Add Patient"
                               data-url="/Patient/Add">
                                <i class="fas fa-user-injured"></i> Add patient
                            </a>

                            <a href="javascript:;" class="js-render-modal" data-title="Add Reveal"
                               data-url="/Reveal/Add">
                                <i class="fas fa-notes-medical"></i> Add Reveal
                            </a>
                        </div>
                    </div><br>

                    <div class="table-responsive px-3">
                        <table class="table table-dash" id="dataTable">
                            <thead>
                                <tr>
                                    <th > Code</th>
                                    <th class="text-nowrap">Patient Name</th>
                                    <th class="text-nowrap">Date</th>
                                    <th class="text-nowrap">Next Visit</th>
                                    <th class="text-wrap">Diagnosis</th>
                                    <th >Details</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var head in Model.RoshetaHead.OrderByDescending(a=>a.Date))
                                {
                                    <partial name="_DashboardTableRow" model="@head" />
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<partial name="_PopUpModel"/>

@section  Styles{
    @*<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/css/selectize.bootstrap3.min.css" integrity="sha256-ze/OEYGcFbPRmvCnrSeKbRTtjG4vGLHXgOqsyLFTRjg=" crossorigin="anonymous" />*@
    <link href="~/lib/selectize.js/css/selectize.bootstrap5.min.css" rel="stylesheet" />
}
@section  Scripts{
    <script src="~/lib/selectize.js/js/selectize.min.js"></script>
    @*<script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.12.6/js/standalone/selectize.min.js" integrity="sha256-+C0A5Ilqmu4QcSPxrlGpaZxJ04VjsRjKu+G82kl5UJk=" crossorigin="anonymous"></script>*@
}
